---
import Container from '@components/Container/Container'
import Button from '@ui/Button/Button'
import { courses } from '@shared/mocks'

// Show only first 4 courses on homepage
const featuredCourses = courses.slice(0, 4)
---

<section class="courses" id="courses">
  <Container className="courses__container">
    <div class="courses__header">
      <div class="courses__header-content">
        <span class="courses__badge" data-i18n="courses.badge">Popular Courses</span>
        <h2 class="courses__title">
          <span data-i18n="courses.title">Explore Our</span>
          <span class="courses__title-gradient" data-i18n="courses.titleGradient">Top Courses</span>
        </h2>
        <p class="courses__subtitle" data-i18n="courses.subtitle">
          Discover our most popular courses chosen by thousands of students worldwide.
        </p>
      </div>
      <Button as="a" href="/courses" text="View All Courses" mods={['outline']} data-i18n="courses.btnViewAll" />
    </div>
    
    <ul class="courses__grid">
      {featuredCourses.map((course) => (
        <li class={`courses__card _${course.color}`}>
          <a href={`/course/${course.slug}`} class="courses__card-link">
            <div class="courses__card-image">
              <img src={course.image.src} alt="" loading="lazy" />
              <span class="courses__card-category" data-i18n={`courses.items.${course.categoryKey}.category`}>{course.category}</span>
            </div>
            <div class="courses__card-content">
              <h3 class="courses__card-title" data-i18n={`courses.items.${course.categoryKey}.title`}>Course Title</h3>
              <p class="courses__card-instructor"><span data-i18n="courses.by">by</span> <span data-i18n={`courses.items.${course.categoryKey}.instructor`}>Instructor</span></p>
              <div class="courses__card-meta">
                <div class="courses__card-rating" aria-label={`Rating: ${course.rating} out of 5`}>
                  <span class="courses__card-star" aria-hidden="true">‚≠ê</span>
                  <span>{course.rating}</span>
                </div>
                <span class="courses__card-students">{course.students.toLocaleString()} <span data-i18n="courses.students">students</span></span>
              </div>
              <div class="courses__card-footer">
                <div class="courses__card-price">
                  <span class="courses__card-price-current">${course.price}</span>
                  <span class="courses__card-price-original"><span class="visually-hidden" data-i18n="courses.originalPrice">Original price:</span>${course.originalPrice}</span>
                </div>
                <span class="courses__card-btn" data-i18n="courses.enrollNow">Enroll Now</span>
              </div>
            </div>
          </a>
        </li>
      ))}
    </ul>
  </Container>
</section>
